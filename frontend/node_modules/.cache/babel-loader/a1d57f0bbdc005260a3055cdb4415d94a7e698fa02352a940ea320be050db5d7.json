{"ast":null,"code":"import axios from \"axios\";\nimport Confirmation from './Confirmation.vue';\nexport default {\n  name: 'BookingHome',\n  components: {\n    Confirmation\n  },\n  data() {\n    return {\n      bookingOne: 'booking.jpg',\n      info: [],\n      roomName: '',\n      arrivalDate: '',\n      departureDate: '',\n      guest: '',\n      rent: '',\n      showDialog: false\n    };\n  },\n  created() {\n    this.get();\n  },\n  methods: {\n    showConfirmationDialog() {\n      this.showDialog = true;\n    },\n    async get() {\n      try {\n        const ins = await axios.get('showroom');\n        this.info = ins.data.map(room => ({\n          roomName: room.roomName,\n          rent: room.rent,\n          amenities: JSON.parse(room.amenities) // Parse JSON string to object\n        }));\n      } catch (error) {}\n    },\n    async savePendingBooking() {\n      this.showDialog = false;\n      try {\n        const ins = await axios.post('bookRoom', {\n          roomName: this.roomName,\n          arrivalDate: this.arrivalDate,\n          departureDate: this.departureDate,\n          guest: this.guest,\n          rent: this.rent\n        });\n      } catch (error) {}\n    },\n    async checkRoomName() {\n      console.log(this.roomName);\n    },\n    cancelBooking() {\n      this.showDialog = false;\n    },\n    updateRent() {\n      // Find the selected room and update the rent value\n      const selectedRoom = this.info.find(room => room.roomName === this.roomName);\n      if (selectedRoom) {\n        this.rent = selectedRoom.rent; // Update the rent value\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Confirmation","name","components","data","bookingOne","info","roomName","arrivalDate","departureDate","guest","rent","showDialog","created","get","methods","showConfirmationDialog","ins","map","room","amenities","JSON","parse","error","savePendingBooking","post","checkRoomName","console","log","cancelBooking","updateRent","selectedRoom","find"],"sources":["C:\\laragon\\www\\frontend\\src\\components\\booking\\BookingHome.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        \t<div class=\"home\">\r\n\t\t<div class=\"background_image\" :style=\"{\r\n      'background-image': 'url(' + require(`@/assets/images/${bookingOne}`) + ')'\r\n  }\"></div>\r\n\t\t<div class=\"home_container\">\r\n\t\t\t<div class=\"container\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t<div class=\"home_content text-center\">\r\n\t\t\t\t\t\t\t<div class=\"home_title\">Book a room</div>\r\n\t\t\t\t\t\t\t<div class=\"booking_form_container\">\r\n\t\t\t\t\t\t\t\t<form action=\"#\" class=\"booking_form\" id=\"booking_form\" @submit.prevent=\"showConfirmationDialog\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"d-flex flex-xl-row flex-column align-items-start justify-content-start\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"booking_input_container d-flex flex-row align-items-start justify-content-start flex-wrap\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div><input type=\"date\" class=\"booking_input booking_input_a booking_in\" placeholder=\"Check in\" required=\"required\" v-model=\"arrivalDate\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div><input type=\"date\" class=\"booking_input booking_input_a booking_out\" placeholder=\"Check out\" required=\"required\" v-model=\"departureDate\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div><input type=\"number\" class=\"booking_input booking_input_b\" placeholder=\"Guest Number\" required=\"required\" v-model=\"guest\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<select class=\"booking_input booking_input_b\" required=\"required\" v-model=\"roomName\" @change=\"updateRent\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled selected >Select Room</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option v-for=\"info in info\" :key=\"info.id\">{{info.roomName}}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div><input type=\"hidden\" v-model=\"rent\"></div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div><button class=\"booking_button trans_200\">Book Now</button></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<confirmation\r\n\t\t:show=\"showDialog\"\r\n      message=\"Are you sure you want to book?\"\r\n      @confirmed=\"savePendingBooking\"\r\n      @canceled=\"cancelBooking\"\r\n\t>\r\n\t</confirmation>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport Confirmation from './Confirmation.vue';\r\nexport default {\r\n    name:'BookingHome',\r\n\tcomponents: {Confirmation},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tbookingOne:'booking.jpg',\r\n\t\t\tinfo:[],\r\n\t\t\troomName:'',\r\n\t\t\tarrivalDate:'',\r\n\t\t\tdepartureDate:'',\r\n\t\t\tguest:'',\r\n\t\t\trent:'',\r\n\t\t\tshowDialog:false\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.get();\r\n\t},\r\n\tmethods:{\r\n\t\tshowConfirmationDialog() {\r\n      this.showDialog = true;\r\n    \t},\r\n\t\tasync get(){\r\n            try {\r\n                const ins = await axios.get('showroom');\r\n\t\t\t\tthis.info = ins.data.map(room => ({\r\n\t\t\t\troomName: room.roomName,\r\n\t\t\t\trent: room.rent,\r\n\t\t\t\tamenities: JSON.parse(room.amenities), // Parse JSON string to object\r\n\t\t\t}));\r\n            } catch (error) {\r\n                \r\n            }\r\n        },\r\n\t\tasync savePendingBooking(){\r\n\t\t\tthis.showDialog=false;\r\n\t\t\ttry {\r\n\t\t\t\tconst ins= await axios.post('bookRoom',{\r\n\t\t\t\t\troomName:this.roomName,\r\n\t\t\t\t\tarrivalDate:this.arrivalDate,\r\n\t\t\t\t\tdepartureDate:this.departureDate,\r\n\t\t\t\t\tguest:this.guest,\r\n\t\t\t\t\trent:this.rent\r\n\t\t\t\t});\r\n\t\t\t} catch (error) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t},\r\n\t\tasync checkRoomName(){\r\n\t\t\tconsole.log(this.roomName)\r\n\t\t},\r\n\t\tcancelBooking() {\r\n      this.showDialog = false;\r\n    },\r\n\tupdateRent() {\r\n            // Find the selected room and update the rent value\r\n            const selectedRoom = this.info.find(room => room.roomName === this.roomName);\r\n            if (selectedRoom) {\r\n                this.rent = selectedRoom.rent; // Update the rent value\r\n            }\r\n\t\t\r\n\t}\r\n}\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n\t.booking_input_b option {\r\n    color: #333; /* Change the color of the text */\r\n    background-color: #fff; /* Change the background color */\r\n    /* Add any other styles you want to apply to the options */\r\n}\r\n</style>\r\n"],"mappings":"AA+CA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,YAAW,MAAO,oBAAoB;AAC7C,eAAe;EACXC,IAAI,EAAC,aAAa;EACrBC,UAAU,EAAE;IAACF;EAAY,CAAC;EAC1BG,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,UAAU,EAAC,aAAa;MACxBC,IAAI,EAAC,EAAE;MACPC,QAAQ,EAAC,EAAE;MACXC,WAAW,EAAC,EAAE;MACdC,aAAa,EAAC,EAAE;MAChBC,KAAK,EAAC,EAAE;MACRC,IAAI,EAAC,EAAE;MACPC,UAAU,EAAC;IACZ;EACD,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,GAAG,CAAC,CAAC;EACX,CAAC;EACDC,OAAO,EAAC;IACPC,sBAAsBA,CAAA,EAAG;MACrB,IAAI,CAACJ,UAAS,GAAI,IAAI;IACvB,CAAC;IACJ,MAAME,GAAGA,CAAA,EAAE;MACD,IAAI;QACA,MAAMG,GAAE,GAAI,MAAMjB,KAAK,CAACc,GAAG,CAAC,UAAU,CAAC;QACnD,IAAI,CAACR,IAAG,GAAIW,GAAG,CAACb,IAAI,CAACc,GAAG,CAACC,IAAG,KAAM;UAClCZ,QAAQ,EAAEY,IAAI,CAACZ,QAAQ;UACvBI,IAAI,EAAEQ,IAAI,CAACR,IAAI;UACfS,SAAS,EAAEC,IAAI,CAACC,KAAK,CAACH,IAAI,CAACC,SAAS,CAAC,CAAE;QACxC,CAAC,CAAC,CAAC;MACM,EAAE,OAAOG,KAAK,EAAE,CAEhB;IACJ,CAAC;IACP,MAAMC,kBAAkBA,CAAA,EAAE;MACzB,IAAI,CAACZ,UAAU,GAAC,KAAK;MACrB,IAAI;QACH,MAAMK,GAAG,GAAE,MAAMjB,KAAK,CAACyB,IAAI,CAAC,UAAU,EAAC;UACtClB,QAAQ,EAAC,IAAI,CAACA,QAAQ;UACtBC,WAAW,EAAC,IAAI,CAACA,WAAW;UAC5BC,aAAa,EAAC,IAAI,CAACA,aAAa;UAChCC,KAAK,EAAC,IAAI,CAACA,KAAK;UAChBC,IAAI,EAAC,IAAI,CAACA;QACX,CAAC,CAAC;MACH,EAAE,OAAOY,KAAK,EAAE,CAEhB;IAED,CAAC;IACD,MAAMG,aAAaA,CAAA,EAAE;MACpBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACrB,QAAQ;IAC1B,CAAC;IACDsB,aAAaA,CAAA,EAAG;MACZ,IAAI,CAACjB,UAAS,GAAI,KAAK;IACzB,CAAC;IACJkB,UAAUA,CAAA,EAAG;MACF;MACA,MAAMC,YAAW,GAAI,IAAI,CAACzB,IAAI,CAAC0B,IAAI,CAACb,IAAG,IAAKA,IAAI,CAACZ,QAAO,KAAM,IAAI,CAACA,QAAQ,CAAC;MAC5E,IAAIwB,YAAY,EAAE;QACd,IAAI,CAACpB,IAAG,GAAIoB,YAAY,CAACpB,IAAI,EAAE;MACnC;IAEX;EACD;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}