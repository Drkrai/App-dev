{"ast":null,"code":"import axios from 'axios';\nimport confirmation from './adminConfirmation.vue';\nexport default {\n  name: 'pendingBooking',\n  components: {\n    confirmation\n  },\n  created() {\n    this.showPendingBooking();\n  },\n  data() {\n    return {\n      info: [],\n      showDialog: false,\n      currentBookingId: null\n    };\n  },\n  methods: {\n    async showPendingBooking() {\n      try {\n        const ins = await axios.get('pending');\n        this.info = ins.data;\n      } catch (error) {}\n    },\n    async confirmBooking() {\n      try {\n        if (this.currentBookingId) {\n          const ins = await axios.post(`confirmed-booking/${this.currentBookingId}`);\n          this.$emit('booking-confirmed');\n          this.showPendingBooking();\n        }\n      } catch (error) {\n        console.log(error);\n      } finally {\n        this.showDialog = false; // Close the dialog after confirming or if an error occurs\n      }\n    },\n\n    cancelDialog() {\n      this.showDialog = false;\n    },\n    showConfirmationDialog(bookingId) {\n      this.showDialog = true;\n      this.currentBookingId = bookingId;\n    }\n  }\n};","map":{"version":3,"names":["axios","confirmation","name","components","created","showPendingBooking","data","info","showDialog","currentBookingId","methods","ins","get","error","confirmBooking","post","$emit","console","log","cancelDialog","showConfirmationDialog","bookingId"],"sources":["C:\\laragon\\www\\frontend\\src\\components\\admin\\pendingBooking.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"page-wrapper\">\r\n\t\t\t<div class=\"content container-fluid\">\r\n\t\t\t\t<div class=\"page-header\">\r\n\t\t\t\t\t<div class=\"row align-items-center\">\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<div class=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<h4 class=\"card-title float-left mt-2\">Appointments</h4>\r\n                               \r\n                            </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-sm-12\">\r\n\t\t\t\t\t\t<div class=\"card card-table\">\r\n\t\t\t\t\t\t\t<div class=\"card-body booking_card\">\r\n\t\t\t\t\t\t\t\t<div class=\"table-responsive\">\r\n\t\t\t\t\t\t\t\t\t<table class=\"datatable table table-stripped table table-hover table-center mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Room Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Rent</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Guest Number</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Time</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Arrival Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Depature Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th class=\"text-right\">Actions</th>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr v-for=\"info in info\" :key=\"info.id\">\r\n                                                <td>{{info.roomName}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{info.rent}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{info.guest}}</td>\r\n                                                <td>{{info.time}}</td>\r\n                                                <td>{{info.arrivalDate}}</td>\r\n                                                <td>{{info.departureDate}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"actions\"> <a href=\"#\" class=\"btn btn-sm bg-success-light mr-2\">Active</a> </div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td class=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-success\" @click=\"showConfirmationDialog(info.id)\">Admit</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"delete_asset\" class=\"modal fade delete-modal\" role=\"dialog\">\r\n\t\t\t\t<div class=\"modal-dialog modal-dialog-centered\">\r\n\t\t\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t\t\t<div class=\"modal-body text-center\"> <img src=\"assets/img/sent.png\" alt=\"\" width=\"50\" height=\"46\">\r\n\t\t\t\t\t\t\t<h3 class=\"delete_class\">Are you sure want to delete this Asset?</h3>\r\n\t\t\t\t\t\t\t<div class=\"m-t-20\"> <a href=\"#\" class=\"btn btn-white\" data-dismiss=\"modal\">Close</a>\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-danger\">Delete</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<confirmation\r\n\t\t:show=\"showDialog\"\r\n\t\tmessage=\"Are you sure you want to accept this booking?\"\r\n\t\t@confirmed=\"confirmBooking()\"\r\n\t\t@cancelled=\"cancelDialog()\"\r\n\t\t>\r\n\t\t</confirmation>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';  \r\nimport confirmation from './adminConfirmation.vue';\r\nexport default {\r\n    name:'pendingBooking',\r\n\tcomponents:{confirmation},\r\n    created() {\r\n        this.showPendingBooking();\r\n    },\r\n    data() {\r\n        return {\r\n            info:[],\r\n\t\t\tshowDialog:false,\r\n\t\t\tcurrentBookingId: null,\r\n        }\r\n    },\r\n    methods:{\r\n        async showPendingBooking(){\r\n            try {\r\n                const ins=await axios.get('pending');\r\n                this.info=ins.data;\r\n\t\t\t\t\r\n            } catch (error) {\r\n                \r\n            }\r\n        },\r\n\r\n\r\n        async confirmBooking(){\r\n             try {\r\n            if (this.currentBookingId) {\r\n                const ins = await axios.post(`confirmed-booking/${this.currentBookingId}`);\r\n                this.$emit('booking-confirmed');\r\n                this.showPendingBooking();\r\n            }\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            this.showDialog = false; // Close the dialog after confirming or if an error occurs\r\n        }\r\n        },\r\n\t\tcancelDialog() {\r\n\t\t\tthis.showDialog = false;\r\n\t\t},\r\n\tshowConfirmationDialog(bookingId) {\r\n\t\tthis.showDialog = true;\r\n\t\tthis.currentBookingId=bookingId\r\n    \t},\r\n    }\r\n}\r\n</script>"],"mappings":"AA8EA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,YAAW,MAAO,yBAAyB;AAClD,eAAe;EACXC,IAAI,EAAC,gBAAgB;EACxBC,UAAU,EAAC;IAACF;EAAY,CAAC;EACtBG,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC7B,CAAC;EACDC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAC,EAAE;MAChBC,UAAU,EAAC,KAAK;MAChBC,gBAAgB,EAAE;IACb;EACJ,CAAC;EACDC,OAAO,EAAC;IACJ,MAAML,kBAAkBA,CAAA,EAAE;MACtB,IAAI;QACA,MAAMM,GAAG,GAAC,MAAMX,KAAK,CAACY,GAAG,CAAC,SAAS,CAAC;QACpC,IAAI,CAACL,IAAI,GAACI,GAAG,CAACL,IAAI;MAEtB,EAAE,OAAOO,KAAK,EAAE,CAEhB;IACJ,CAAC;IAGD,MAAMC,cAAcA,CAAA,EAAE;MACjB,IAAI;QACL,IAAI,IAAI,CAACL,gBAAgB,EAAE;UACvB,MAAME,GAAE,GAAI,MAAMX,KAAK,CAACe,IAAI,CAAE,qBAAoB,IAAI,CAACN,gBAAiB,EAAC,CAAC;UAC1E,IAAI,CAACO,KAAK,CAAC,mBAAmB,CAAC;UAC/B,IAAI,CAACX,kBAAkB,CAAC,CAAC;QAC7B;MACJ,EAAE,OAAOQ,KAAK,EAAE;QACZI,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;MACtB,UAAU;QACN,IAAI,CAACL,UAAS,GAAI,KAAK,EAAE;MAC7B;IACA,CAAC;;IACPW,YAAYA,CAAA,EAAG;MACd,IAAI,CAACX,UAAS,GAAI,KAAK;IACxB,CAAC;IACFY,sBAAsBA,CAACC,SAAS,EAAE;MACjC,IAAI,CAACb,UAAS,GAAI,IAAI;MACtB,IAAI,CAACC,gBAAgB,GAACY,SAAQ;IAC3B;EACD;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}