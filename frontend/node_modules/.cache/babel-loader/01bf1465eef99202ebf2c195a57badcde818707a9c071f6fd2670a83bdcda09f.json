{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3 mt-5 pt-3 pb-3 bg-dark form-wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"text-primary\"\n}, \"Login\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"form-floating mb-3\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"form-label\"\n}, \"Email address\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"form-floating mb-3\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\",\n  class: \"form-label\"\n}, \"Password\", -1 /* HOISTED */);\nconst _hoisted_10 = {\n  class: \"alert-danger\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary mx-auto w-100 mb-3\"\n}, \"Sign in\", -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _hoisted_5, _createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers($event => $options.login(), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _hoisted_7]), _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    required: \"\",\n    minlength: \"8\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _hoisted_9]), _createElementVNode(\"p\", _hoisted_10, _toDisplayString($data.errorMessage), 1 /* TEXT */), _hoisted_11, _createVNode(_component_router_link, {\n    to: \"/register\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Don't have an account yet?\")]),\n    _: 1 /* STABLE */\n  }), _hoisted_12, _createVNode(_component_router_link, {\n    to: \"/reset-password\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Forgot Password\")]),\n    _: 1 /* STABLE */\n  })], 32 /* HYDRATE_EVENTS */)])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onSubmit","_cache","_withModifiers","$event","$options","login","_hoisted_6","$data","email","required","_hoisted_7","_hoisted_8","password","minlength","_hoisted_9","_hoisted_10","_toDisplayString","errorMessage","_hoisted_11","_createVNode","_component_router_link","to","_hoisted_12"],"sources":["C:\\laragon\\www\\frontend\\src\\views\\Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"row\">\r\n      <div class=\"col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3 mt-5 pt-3 pb-3 bg-dark form-wrapper\">\r\n        <div class=\"container\">\r\n          <h3 class=\"text-primary\">Login</h3>\r\n          <hr />\r\n          <form @submit.prevent=\"login()\">\r\n            <div class=\"form-floating mb-3\">\r\n              <input type=\"text\" class=\"form-control\" v-model=\"email\" required />\r\n              <label for=\"email\" class=\"form-label\">Email address</label>\r\n            </div>\r\n            <div class=\"form-floating mb-3\">\r\n              <input type=\"password\" class=\"form-control\" v-model=\"password\" required minlength=\"8\" />\r\n              <label for=\"password\" class=\"form-label\">Password</label>\r\n            </div>\r\n            <p class=\"alert-danger \">{{ errorMessage }}</p>\r\n            <button type=\"submit\" class=\"btn btn-primary mx-auto w-100 mb-3\">Sign in</button>\r\n            <router-link to=\"/register\">Don't have an account yet?</router-link>\r\n            <br>\r\n            <router-link to=\"/reset-password\">Forgot Password</router-link>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport router from '@/router'; \r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      errorMessage: '', \r\n\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n    const data = {\r\n      email: this.email,\r\n      password: this.password,\r\n    };\r\n\r\n    axios\r\n      .post('/login', JSON.stringify(data), {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      })\r\n      .then((response) => {\r\n        if (response.data.message === 'Login successful') {\r\n          sessionStorage.setItem(\"token\", response.data.token);\r\n          sessionStorage.setItem(\"id\", response.data.id);\r\n          router.push('/user');\r\n        } \r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        this.errorMessage = 'Invalid email or password, try again!';\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAsF;;EAC1FA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAAmC;EAA/BD,KAAK,EAAC;AAAc,GAAC,OAAK;gCAC9BC,mBAAA,CAAM;;EAECD,KAAK,EAAC;AAAoB;gCAE7BC,mBAAA,CAA2D;EAApDC,GAAG,EAAC,OAAO;EAACF,KAAK,EAAC;GAAa,eAAa;;EAEhDA,KAAK,EAAC;AAAoB;gCAE7BC,mBAAA,CAAyD;EAAlDC,GAAG,EAAC,UAAU;EAACF,KAAK,EAAC;GAAa,UAAQ;;EAEhDA,KAAK,EAAC;AAAe;iCACxBC,mBAAA,CAAiF;EAAzEE,IAAI,EAAC,QAAQ;EAACH,KAAK,EAAC;GAAqC,SAAO;iCAExEC,mBAAA,CAAI;;;;uBAjBZG,mBAAA,CAsBM,OAtBNC,UAsBM,GArBJJ,mBAAA,CAoBM,OApBNK,UAoBM,GAnBJL,mBAAA,CAkBM,OAlBNM,UAkBM,GAjBJC,UAAmC,EACnCC,UAAM,EACNR,mBAAA,CAcO;IAdAS,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAAC,MAAA,IAAUC,QAAA,CAAAC,KAAK;MAC1Bd,mBAAA,CAGM,OAHNe,UAGM,G,gBAFJf,mBAAA,CAAmE;IAA5DE,IAAI,EAAC,MAAM;IAACH,KAAK,EAAC,cAAc;+DAAUiB,KAAA,CAAAC,KAAK,GAAAL,MAAA;IAAEM,QAAQ,EAAR;iDAAPF,KAAA,CAAAC,KAAK,E,GACtDE,UAA2D,C,GAE7DnB,mBAAA,CAGM,OAHNoB,UAGM,G,gBAFJpB,mBAAA,CAAwF;IAAjFE,IAAI,EAAC,UAAU;IAACH,KAAK,EAAC,cAAc;+DAAUiB,KAAA,CAAAK,QAAQ,GAAAT,MAAA;IAAEM,QAAQ,EAAR,EAAQ;IAACI,SAAS,EAAC;iDAA7BN,KAAA,CAAAK,QAAQ,E,GAC7DE,UAAyD,C,GAE3DvB,mBAAA,CAA+C,KAA/CwB,WAA+C,EAAAC,gBAAA,CAAnBT,KAAA,CAAAU,YAAY,kBACxCC,WAAiF,EACjFC,YAAA,CAAoEC,sBAAA;IAAvDC,EAAE,EAAC;EAAW;sBAAC,MAA0B,C,iBAA1B,4BAA0B,E;;MACtDC,WAAI,EACJH,YAAA,CAA+DC,sBAAA;IAAlDC,EAAE,EAAC;EAAiB;sBAAC,MAAe,C,iBAAf,iBAAe,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}