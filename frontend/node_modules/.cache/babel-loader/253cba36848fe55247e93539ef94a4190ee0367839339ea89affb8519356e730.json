{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: 'booking',\n  created() {\n    this.get();\n  },\n  data() {\n    return {\n      inf: [],\n      pay: {\n        name: '',\n        guest: '',\n        arrivalDate: '',\n        departureDate: '',\n        amenities: [],\n        rent: '',\n        selectedAmenities: []\n      },\n      showPayment: false\n    };\n  },\n  methods: {\n    async get() {\n      try {\n        const ins = await axios.get('get-booking');\n        this.inf = ins.data;\n      } catch (error) {\n        error;\n      }\n    },\n    async showModal(id) {\n      try {\n        const ins = await axios.get(`payment/${id}`);\n        console.log('Amenities data from server:', ins.data.amenities);\n        const amenitiesString = ins.data.amenities || \"[]\"; // Provide a default value if amenities is undefined\n        const amenities = JSON.parse(amenitiesString);\n        this.pay = {\n          ...ins.data,\n          amenities,\n          selectedAmenities: []\n        };\n        this.showPayment = !this.showPayment;\n      } catch (error) {\n        console.error('Error fetching amenities:', error);\n      }\n    },\n    closePaymentModal() {\n      this.showPayment = false;\n    }\n  }\n};","map":{"version":3,"names":["axios","name","created","get","data","inf","pay","guest","arrivalDate","departureDate","amenities","rent","selectedAmenities","showPayment","methods","ins","error","showModal","id","console","log","amenitiesString","JSON","parse","closePaymentModal"],"sources":["C:\\laragon\\www\\frontend\\src\\components\\admin\\booking.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"page-wrapper\">\r\n\t\t\t<div class=\"content container-fluid\">\r\n\t\t\t\t<div class=\"page-header\">\r\n\t\t\t\t\t<div class=\"row align-items-center\">\r\n\t\t\t\t\t\t<div class=\"col\">\r\n\t\t\t\t\t\t\t<div class=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<h4 class=\"card-title float-left mt-2\">Appointments</h4>\r\n                               \r\n                            </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<div class=\"col-sm-12\">\r\n\t\t\t\t\t\t<div class=\"card card-table\">\r\n\t\t\t\t\t\t\t<div class=\"card-body booking_card\">\r\n\t\t\t\t\t\t\t\t<div class=\"table-responsive\">\r\n\t\t\t\t\t\t\t\t\t<table class=\"datatable table table-stripped table table-hover table-center mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Room Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Rent</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Guest Number</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Time</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Arrival Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<th>Depature Date</th>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr v-for=\"inf in inf\" :key=\"inf.id\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{inf.name}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{inf.rent}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{{inf.guest}}</td>\r\n                                                <td>{{inf.time}}</td>\r\n                                                <td>{{inf.arrivalDate}}</td>\r\n                                                <td>{{inf.departureDate}}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"showModal(inf.id)\">Payment</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"delete_asset\" class=\"modal fade delete-modal\" role=\"dialog\" >\r\n\t\t\t\t<div class=\"modal-dialog modal-dialog-centered\">\r\n\t\t\t\t\t<div class=\"modal-content\">\r\n\t\t\t\t\t\t<div class=\"modal-body text-center\"> <img src=\"assets/img/sent.png\" alt=\"\" width=\"50\" height=\"46\">\r\n\t\t\t\t\t\t\t<h3 class=\"delete_class\">Are you sure want to delete this Asset?</h3>\r\n\t\t\t\t\t\t\t<div class=\"m-t-20\"> <a href=\"#\" class=\"btn btn-white\" data-dismiss=\"modal\">Close</a>\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-danger\">Delete</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t <div class=\"custom-modal\" v-if=\"showPayment\">\r\n      <div class=\"modal-overlay\" @click=\"closePaymentModal\"></div>\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h4 class=\"modal-title\">Payment</h4>\r\n          <button type=\"button\" class=\"close\" @click=\"closePaymentModal\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form>\r\n          <div v-if=\"pay\">\r\n            <h5>Room Name: {{ pay.name }}</h5>\r\n            <p>Guest: {{ pay.guest }}</p>\r\n            <p>Arrival Date: {{ pay.arrivalDate }}</p>\r\n            <p>Departure Date: {{ pay.departureDate }}</p>\r\n\t\t\t<div v-if=\"pay.amenities && pay.amenities.length > 0\">\r\n\t\t\t<div v-for=\"(amenity, index) in pay.amenities\" :key=\"index\" class=\"form-check\">\r\n\t\t\t\t<input type=\"checkbox\" class=\"form-check-input\" :id=\"`amenityCheckbox${index}`\" :value=\"amenity\" v-model=\"pay.selectedAmenities\">\r\n\t\t\t\t<label class=\"form-check-label\" :for=\"`amenityCheckbox${index}`\">{{ amenity }}</label>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\r\n            <label for=\"total\">Total:</label>\r\n            <span>{{pay.rent}}</span>\r\n          </div>\r\n        </form>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-default\" @click=\"closePaymentModal\">Close</button>\r\n          <button type=\"button\" class=\"btn btn-primary\">Submit Payment</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n\t</div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n    name:'booking',\r\n\tcreated() {\r\n\t\tthis.get();\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tinf:[],\r\n\t\t\tpay: {\r\n        name: '',\r\n        guest: '',\r\n        arrivalDate: '',\r\n        departureDate: '',\r\n        amenities: [],\r\n        rent: '',\r\n        selectedAmenities: []\r\n      },\r\n\t  showPayment: false\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync get(){\r\n\t\t\ttry {\r\n\t\t\t\tconst ins = await axios.get('get-booking')\r\n\t\t\tthis.inf= ins.data\r\n\t\t\t} catch (error) {\r\n\t\t\t\terror\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tasync showModal(id){\r\n    try {\r\n        const ins = await axios.get(`payment/${id}`);\r\n        console.log('Amenities data from server:', ins.data.amenities);\r\n\r\n        const amenitiesString = ins.data.amenities || \"[]\"; // Provide a default value if amenities is undefined\r\n        const amenities = JSON.parse(amenitiesString);\r\n\r\n        this.pay = { ...ins.data, amenities, selectedAmenities: [] };\r\n        this.showPayment = !this.showPayment;\r\n    } catch (error) {\r\n        console.error('Error fetching amenities:', error);\r\n    }\r\n},\r\n\t\tclosePaymentModal() {\r\n        this.showPayment = false;\r\n    }\r\n\t\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n.custom-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 1001;\r\n}\r\n\r\n.modal-content {\r\n  background: #fff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n  z-index: 1002;\r\n\r\n  /* Adjust the maximum width and center the modal horizontally */\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.modal-title {\r\n  margin: 0;\r\n}\r\n\r\n.modal-body {\r\n  /* Your custom styles for the modal body */\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"],"mappings":"AAuGA,OAAOA,KAAI,MAAO,OAAO;AACzB,eAAe;EACXC,IAAI,EAAC,SAAS;EACjBC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,GAAG,CAAC,CAAC;EACX,CAAC;EACDC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,GAAG,EAAC,EAAE;MACNC,GAAG,EAAE;QACAL,IAAI,EAAE,EAAE;QACRM,KAAK,EAAE,EAAE;QACTC,WAAW,EAAE,EAAE;QACfC,aAAa,EAAE,EAAE;QACjBC,SAAS,EAAE,EAAE;QACbC,IAAI,EAAE,EAAE;QACRC,iBAAiB,EAAE;MACrB,CAAC;MACJC,WAAW,EAAE;IACd;EACD,CAAC;EACDC,OAAO,EAAE;IACR,MAAMX,GAAGA,CAAA,EAAE;MACV,IAAI;QACH,MAAMY,GAAE,GAAI,MAAMf,KAAK,CAACG,GAAG,CAAC,aAAa;QAC1C,IAAI,CAACE,GAAG,GAAEU,GAAG,CAACX,IAAG;MACjB,EAAE,OAAOY,KAAK,EAAE;QACfA,KAAI;MACL;IAED,CAAC;IAED,MAAMC,SAASA,CAACC,EAAE,EAAC;MACjB,IAAI;QACA,MAAMH,GAAE,GAAI,MAAMf,KAAK,CAACG,GAAG,CAAE,WAAUe,EAAG,EAAC,CAAC;QAC5CC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEL,GAAG,CAACX,IAAI,CAACM,SAAS,CAAC;QAE9D,MAAMW,eAAc,GAAIN,GAAG,CAACX,IAAI,CAACM,SAAQ,IAAK,IAAI,EAAE;QACpD,MAAMA,SAAQ,GAAIY,IAAI,CAACC,KAAK,CAACF,eAAe,CAAC;QAE7C,IAAI,CAACf,GAAE,GAAI;UAAE,GAAGS,GAAG,CAACX,IAAI;UAAEM,SAAS;UAAEE,iBAAiB,EAAE;QAAG,CAAC;QAC5D,IAAI,CAACC,WAAU,GAAI,CAAC,IAAI,CAACA,WAAW;MACxC,EAAE,OAAOG,KAAK,EAAE;QACZG,OAAO,CAACH,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACrD;IACJ,CAAC;IACCQ,iBAAiBA,CAAA,EAAG;MACd,IAAI,CAACX,WAAU,GAAI,KAAK;IAC5B;EAEH;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}